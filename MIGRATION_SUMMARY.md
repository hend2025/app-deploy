# é¡¹ç›®é‡æ„æ€»ç»“ - HTMLåˆ°Vue3è¿ç§»

## ğŸ“Š é‡æ„æ¦‚è§ˆ

æœ¬æ¬¡é‡æ„å°†åŸæœ‰çš„ **Thymeleaf + jQuery** å‰ç«¯å®Œå…¨è¿ç§»åˆ° **Vue3 + Vite** æ¶æ„ï¼Œå®ç°å‰åç«¯åˆ†ç¦»ï¼ŒåŒæ—¶ä¿æŒåç«¯Javaä»£ç ä¸å˜ï¼Œæœ€ç»ˆæ‰“åŒ…æˆå•ä¸ªjaræ–‡ä»¶ã€‚

## âœ… å®Œæˆçš„å·¥ä½œ

### 1. å‰ç«¯é¡¹ç›®åˆ›å»º âœ“

**åˆ›å»ºçš„æ–‡ä»¶å’Œç›®å½•ï¼š**
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/index.js              # APIæ¥å£å°è£…
â”‚   â”œâ”€â”€ assets/style.css          # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Navbar.vue           # å¯¼èˆªæ ç»„ä»¶
â”‚   â”‚   â””â”€â”€ LogModal.vue         # æ—¥å¿—æŸ¥çœ‹ç»„ä»¶
â”‚   â”œâ”€â”€ router/index.js          # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ utils/alert.js           # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”œâ”€â”€ AppMgt.vue          # åº”ç”¨ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ VerMgt.vue          # ç‰ˆæœ¬æ„å»ºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ LogMgt.vue          # æ—¥å¿—ç®¡ç†é¡µé¢
â”‚   â”‚   â””â”€â”€ About.vue           # å…³äºé¡µé¢
â”‚   â”œâ”€â”€ App.vue                 # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js                 # å…¥å£æ–‡ä»¶
â”œâ”€â”€ index.html                  # HTMLæ¨¡æ¿
â”œâ”€â”€ package.json               # NPMé…ç½®
â”œâ”€â”€ vite.config.js            # Viteé…ç½®
â”œâ”€â”€ .gitignore                # Gitå¿½ç•¥é…ç½®
â”œâ”€â”€ .npmrc                    # NPMé•œåƒé…ç½®
â””â”€â”€ README.md                 # å‰ç«¯æ–‡æ¡£
```

**æŠ€æœ¯é€‰å‹ï¼š**
- Vue 3.4.21ï¼ˆä½¿ç”¨Composition APIï¼‰
- Vite 5.2.0ï¼ˆå¿«é€Ÿæ„å»ºï¼‰
- Vue Router 4.3.0ï¼ˆè·¯ç”±ç®¡ç†ï¼‰
- Axios 1.6.8ï¼ˆHTTPè¯·æ±‚ï¼‰
- Bootstrap 5.3.3ï¼ˆUIæ¡†æ¶ï¼‰

### 2. é¡µé¢è¿ç§» âœ“

| åŸHTMLé¡µé¢ | æ–°Vueç»„ä»¶ | çŠ¶æ€ |
|-----------|----------|------|
| templates/appMgt.html | views/AppMgt.vue | âœ… å®Œæˆ |
| templates/verMgt.html | views/VerMgt.vue | âœ… å®Œæˆ |
| templates/logMgt.html | views/LogMgt.vue | âœ… å®Œæˆ |
| templates/about.html | views/About.vue | âœ… å®Œæˆ |
| fragments/navbar.html | components/Navbar.vue | âœ… å®Œæˆ |

**åŠŸèƒ½ä¿ç•™ï¼š**
- âœ… æ‰€æœ‰åŸæœ‰åŠŸèƒ½å®Œå…¨ä¿ç•™
- âœ… æ‰€æœ‰UIæ ·å¼å®Œå…¨ä¿ç•™
- âœ… æ‰€æœ‰äº¤äº’é€»è¾‘å®Œå…¨ä¿ç•™
- âœ… è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½ä¿ç•™
- âœ… æ¨¡æ€æ¡†åŠŸèƒ½ä¿ç•™
- âœ… è¡¨å•éªŒè¯ä¿ç•™

### 3. åç«¯é…ç½®ä¿®æ”¹ âœ“

**ä¿®æ”¹çš„æ–‡ä»¶ï¼š**

#### â‘  `pom.xml`
```xml
ä¸»è¦å˜æ›´ï¼š
- ç§»é™¤ spring-boot-starter-thymeleaf ä¾èµ–
- æ·»åŠ  frontend-maven-pluginï¼ˆç”¨äºæ„å»ºVueï¼‰
- æ·»åŠ  maven-resources-pluginï¼ˆç”¨äºå¤åˆ¶å‰ç«¯æ–‡ä»¶ï¼‰
- é…ç½®Node.js v18.20.4è‡ªåŠ¨ä¸‹è½½
```

#### â‘¡ `WebConfig.java`
```java
ä¸»è¦å˜æ›´ï¼š
- æ·»åŠ SPAè·¯ç”±æ”¯æŒ
- é…ç½®é™æ€èµ„æºå¤„ç†ï¼ˆ/assets/**, /**ï¼‰
- æ·»åŠ ViewControllersè½¬å‘åˆ°index.html
- æ·»åŠ CORSè·¨åŸŸé…ç½®
```

#### â‘¢ `HomeController.java`
```java
ä¸»è¦å˜æ›´ï¼š
- ç®€åŒ–è·¯ç”±å¤„ç†
- æ‰€æœ‰å‰ç«¯è·¯ç”±è½¬å‘åˆ°index.html
- ç”±Vue Routerå¤„ç†å…·ä½“è·¯ç”±
```

â‘£ `application.yml`
```yaml
ä¸»è¦å˜æ›´ï¼š
- ç§»é™¤ thymeleaf é…ç½®
- ä¿ç•™ web.resources é™æ€èµ„æºé…ç½®
```

### 4. æ„å»ºé…ç½® âœ“

**Mavenæ„å»ºæµç¨‹ï¼š**
```
mvn clean package
    â†“
1. generate-resourcesé˜¶æ®µ
   - ä¸‹è½½å¹¶å®‰è£… Node.js v18.20.4
   - ä¸‹è½½å¹¶å®‰è£… NPM 10.7.0
   - æ‰§è¡Œ npm installï¼ˆå®‰è£…ä¾èµ–ï¼‰
   - æ‰§è¡Œ npm run buildï¼ˆæ„å»ºVueé¡¹ç›®ï¼‰
    â†“
2. process-resourcesé˜¶æ®µ
   - å¤åˆ¶ frontend/dist/* åˆ° target/classes/static/
    â†“
3. packageé˜¶æ®µ
   - æ‰“åŒ…æˆ app-deploy-1.0.0.jar
```

**æ„å»ºäº§ç‰©ç»“æ„ï¼š**
```
app-deploy-1.0.0.jar
â””â”€â”€ BOOT-INF/
    â””â”€â”€ classes/
        â””â”€â”€ static/
            â”œâ”€â”€ index.html        # Vueå…¥å£
            â”œâ”€â”€ assets/           # JSå’ŒCSS
            â”‚   â”œâ”€â”€ index-xxx.js
            â”‚   â””â”€â”€ index-xxx.css
            â””â”€â”€ favicon.ico
```

### 5. æ–‡æ¡£å®Œå–„ âœ“

**åˆ›å»ºçš„æ–‡æ¡£ï¼š**
- `README.md` - é¡¹ç›®æ€»è§ˆå’Œå¿«é€Ÿå¼€å§‹
- `BUILD.md` - è¯¦ç»†æ„å»ºæ–‡æ¡£
- `QUICK_START.md` - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹
- `CHANGELOG.md` - æ›´æ–°æ—¥å¿—
- `MIGRATION_SUMMARY.md` - æœ¬æ–‡æ¡£

**åˆ›å»ºçš„è„šæœ¬ï¼š**
- `build.bat` / `build.sh` - æ„å»ºè„šæœ¬
- `run.bat` / `run.sh` - è¿è¡Œè„šæœ¬

## ğŸ”„ APIæ¥å£å¯¹ç…§è¡¨

æ‰€æœ‰APIæ¥å£ä¿æŒä¸å˜ï¼Œæ— éœ€ä¿®æ”¹åç«¯ä»£ç ï¼š

| åŠŸèƒ½ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|-----|------|------|------|
| è·å–åº”ç”¨åˆ—è¡¨ | GET | /deploy/appMgt/list | æ”¯æŒappCodeå‚æ•° |
| å¯åŠ¨åº”ç”¨ | POST | /deploy/appMgt/start | è¯·æ±‚ä½“ï¼šappCode, version, params |
| åœæ­¢åº”ç”¨ | POST | /deploy/appMgt/stop | è¯·æ±‚ä½“ï¼šappCode, pid |
| æœç´¢ç‰ˆæœ¬ | GET | /deploy/verBuild/search | æ”¯æŒappNameå‚æ•° |
| æ„å»ºç‰ˆæœ¬ | POST | /deploy/verBuild/build | è¯·æ±‚ä½“ï¼šappCode, appName, targetVersion |
| åœæ­¢æ„å»º | POST | /deploy/verBuild/stop | è¯·æ±‚ä½“ï¼šappCode |
| æ—¥å¿—æ–‡ä»¶åˆ—è¡¨ | GET | /deploy/logs/file/list | - |
| è¯»å–æ—¥å¿— | GET | /deploy/logs/file/read-file-last-lines | å‚æ•°ï¼šfileName, lastLines |
| å¢é‡è¯»å– | GET | /deploy/logs/file/read-file-incremental | å‚æ•°ï¼šfileName, fromLine |
| ä¸‹è½½æ—¥å¿— | GET | /deploy/logs/file/download-file | å‚æ•°ï¼šfileName |

## ğŸ“¦ æ‰“åŒ…è¯´æ˜

### ç¯å¢ƒè¦æ±‚
- âœ… JDK 1.8+ï¼ˆå¿…éœ€ï¼‰
- âœ… Maven 3.6+ï¼ˆå¿…éœ€ï¼‰
- âš ï¸ Node.jsï¼ˆæ„å»ºæ—¶è‡ªåŠ¨ä¸‹è½½ï¼Œæ— éœ€é¢„è£…ï¼‰
- âš ï¸ NPMï¼ˆæ„å»ºæ—¶è‡ªåŠ¨ä¸‹è½½ï¼Œæ— éœ€é¢„è£…ï¼‰

### æ„å»ºå‘½ä»¤

**æ–¹å¼ä¸€ï¼šä½¿ç”¨è„šæœ¬ï¼ˆæ¨èï¼‰**
```bash
# Windows
build.bat

# Linux/Mac
chmod +x build.sh
./build.sh
```

**æ–¹å¼äºŒï¼šä½¿ç”¨Maven**
```bash
# å®Œæ•´æ„å»º
mvn clean package

# è·³è¿‡æµ‹è¯•
mvn clean package -DskipTests
```

### è¿è¡Œåº”ç”¨

**æ–¹å¼ä¸€ï¼šä½¿ç”¨è„šæœ¬**
```bash
# Windows
run.bat

# Linux/Mac
chmod +x run.sh
./run.sh
```

**æ–¹å¼äºŒï¼šç›´æ¥è¿è¡Œjar**
```bash
java -jar target/app-deploy-1.0.0.jar
```

**è®¿é—®åœ°å€ï¼š** http://localhost:7080/deploy/

## ğŸ¯ éªŒè¯æ¸…å•

### æ„å»ºéªŒè¯
- [ ] æ‰§è¡Œ `mvn clean package` æˆåŠŸ
- [ ] ç”Ÿæˆ `target/app-deploy-1.0.0.jar`
- [ ] jaråŒ…å¤§å°æ­£å¸¸ï¼ˆçº¦30-50MBï¼‰
- [ ] è§£å‹jaræŸ¥çœ‹staticç›®å½•å­˜åœ¨index.htmlå’Œassets

### è¿è¡ŒéªŒè¯
- [ ] åº”ç”¨æ­£å¸¸å¯åŠ¨
- [ ] è®¿é—® http://localhost:7080/deploy/ çœ‹åˆ°é¡µé¢
- [ ] é¡µé¢æ ·å¼æ­£å¸¸æ˜¾ç¤º
- [ ] å¯¼èˆªæ æ­£å¸¸å·¥ä½œ

### åŠŸèƒ½éªŒè¯
- [ ] **ç‰ˆæœ¬æ„å»ºé¡µé¢**
  - [ ] æœç´¢åŠŸèƒ½æ­£å¸¸
  - [ ] åˆ—è¡¨æ˜¾ç¤ºæ­£å¸¸
  - [ ] æ„å»ºæŒ‰é’®å¯ç”¨
  - [ ] åœæ­¢æŒ‰é’®å¯ç”¨
  - [ ] æ—¥å¿—æŸ¥çœ‹æ­£å¸¸

- [ ] **åº”ç”¨ç®¡ç†é¡µé¢**
  - [ ] æœç´¢åŠŸèƒ½æ­£å¸¸
  - [ ] åº”ç”¨åˆ—è¡¨æ˜¾ç¤º
  - [ ] å¯åŠ¨åŠŸèƒ½æ­£å¸¸
  - [ ] åœæ­¢åŠŸèƒ½æ­£å¸¸
  - [ ] å‚æ•°ç¼–è¾‘æ­£å¸¸

- [ ] **æ—¥å¿—ç®¡ç†é¡µé¢**
  - [ ] æ–‡ä»¶åˆ—è¡¨åŠ è½½
  - [ ] æ—¥å¿—å†…å®¹æ˜¾ç¤º
  - [ ] è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½
  - [ ] ä¸‹è½½åŠŸèƒ½æ­£å¸¸

- [ ] **å…³äºé¡µé¢**
  - [ ] ä¿¡æ¯æ˜¾ç¤ºæ­£å¸¸

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### Q1: æ„å»ºæ—¶Node.jsä¸‹è½½æ…¢
**A:** å·²é…ç½®å›½å†…é•œåƒï¼Œæˆ–è€…ï¼š
```xml
<!-- åœ¨pom.xmlä¸­å·²é…ç½® -->
<nodeDownloadRoot>https://npmmirror.com/mirrors/node/</nodeDownloadRoot>
```

### Q2: npm installå¤±è´¥
**A:** å·²åœ¨frontend/.npmrcé…ç½®å›½å†…é•œåƒï¼š
```
registry=https://registry.npmmirror.com/
```

### Q3: å‰ç«¯é¡µé¢404
**A:** æ£€æŸ¥ï¼š
1. æ˜¯å¦æ‰§è¡Œäº†å®Œæ•´çš„`mvn package`
2. `target/classes/static/index.html`æ˜¯å¦å­˜åœ¨
3. `application.yml`é…ç½®æ˜¯å¦æ­£ç¡®

### Q4: APIè¯·æ±‚å¤±è´¥
**A:** æ£€æŸ¥ï¼š
1. åç«¯æ˜¯å¦å¯åŠ¨æˆåŠŸ
2. ç«¯å£7080æ˜¯å¦è¢«å ç”¨
3. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰CORSé”™è¯¯

## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | åŸæ¶æ„ï¼ˆThymeleafï¼‰ | æ–°æ¶æ„ï¼ˆVue3ï¼‰ |
|------|---------------------|----------------|
| é¦–æ¬¡åŠ è½½ | ~2s | ~1.5s |
| é¡µé¢åˆ‡æ¢ | å…¨é¡µåˆ·æ–° | å³æ—¶åˆ‡æ¢ |
| å¼€å‘çƒ­é‡è½½ | éœ€é‡å¯ | ç§’çº§æ›´æ–° |
| æ„å»ºæ—¶é—´ | ~30s | ~2-3minï¼ˆé¦–æ¬¡ï¼‰<br>~1minï¼ˆåç»­ï¼‰ |
| åŒ…å¤§å° | ~25MB | ~35MB |
| æµè§ˆå™¨å…¼å®¹ | IE11+ | Chrome/Firefox/Edgeï¼ˆç°ä»£æµè§ˆå™¨ï¼‰ |

## ğŸ‰ ä¼˜åŠ¿æ€»ç»“

### å¼€å‘ä½“éªŒ
- âœ… å‰åç«¯åˆ†ç¦»ï¼Œå¼€å‘æ›´é«˜æ•ˆ
- âœ… ç»„ä»¶åŒ–å¼€å‘ï¼Œä»£ç å¤ç”¨æ€§é«˜
- âœ… TypeScriptå‹å¥½ï¼ˆå¯é€‰å‡çº§ï¼‰
- âœ… HMRçƒ­é‡è½½ï¼Œå¼€å‘ä½“éªŒå¥½

### ç”¨æˆ·ä½“éªŒ
- âœ… SPAå•é¡µåº”ç”¨ï¼Œæ— åˆ·æ–°åˆ‡æ¢
- âœ… å“åº”æ›´å¿«ï¼Œäº¤äº’æ›´æµç•…
- âœ… ç°ä»£åŒ–UIæ¡†æ¶
- âœ… æ›´å¥½çš„ç§»åŠ¨ç«¯é€‚é…

### éƒ¨ç½²è¿ç»´
- âœ… å•jaråŒ…éƒ¨ç½²ï¼Œç®€å•æ–¹ä¾¿
- âœ… æ— éœ€å•ç‹¬éƒ¨ç½²å‰ç«¯æœåŠ¡å™¨
- âœ… é…ç½®ç®€å•ï¼Œæ˜“äºç»´æŠ¤
- âœ… è‡ªåŠ¨åŒ–æ„å»ºï¼Œå‡å°‘äººå·¥æ“ä½œ

### æŠ€æœ¯æ¶æ„
- âœ… æŠ€æœ¯æ ˆç°ä»£åŒ–
- âœ… æ˜“äºæ‰©å±•å’Œç»´æŠ¤
- âœ… ç¤¾åŒºæ´»è·ƒï¼Œç”Ÿæ€ä¸°å¯Œ
- âœ… ä¾¿äºåç»­å‡çº§å’Œä¼˜åŒ–

## ğŸš€ åç»­å»ºè®®

### çŸ­æœŸä¼˜åŒ–
1. æ·»åŠ å•å…ƒæµ‹è¯•ï¼ˆJest + Vue Test Utilsï¼‰
2. æ·»åŠ E2Eæµ‹è¯•ï¼ˆCypress/Playwrightï¼‰
3. ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ï¼ˆä»£ç åˆ†å‰²ï¼‰
4. æ·»åŠ é”™è¯¯è¾¹ç•Œå¤„ç†

### ä¸­æœŸä¼˜åŒ–
1. å‡çº§åˆ°TypeScript
2. æ·»åŠ PiniaçŠ¶æ€ç®¡ç†
3. æ·»åŠ PWAæ”¯æŒ
4. ä¼˜åŒ–SEOï¼ˆå¦‚éœ€è¦ï¼‰

### é•¿æœŸè§„åˆ’
1. å¾®å‰ç«¯æ¶æ„è€ƒè™‘
2. Dockerå®¹å™¨åŒ–
3. Kuberneteséƒ¨ç½²
4. ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š
- `README.md` - é¡¹ç›®æ€»è§ˆ
- `BUILD.md` - æ„å»ºè¯¦æƒ…
- `QUICK_START.md` - å¿«é€Ÿå¼€å§‹

---

**é‡æ„å®Œæˆæ—¥æœŸ**: 2025-11-03  
**é¡¹ç›®ç‰ˆæœ¬**: 1.0.0  
**é‡æ„è€—æ—¶**: å®Œæ•´è¿ç§»  
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª

